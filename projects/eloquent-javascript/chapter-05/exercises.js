// /////////////////////////////////////////////////////////////////////////////
// flatten /////////////////////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

function flatten(arrays) {
  return arrays.reduce((acc, current) =>{
    return acc.concat(current);
  }, [])
}

// /////////////////////////////////////////////////////////////////////////////
// loop ////////////////////////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

function loop(value, tFunk, uFunk, bFunk){
  if(tFunk(value)){
     bFunk(value);
    return loop(uFunk(value), tFunk, uFunk, bFunk);
  };
}


// /////////////////////////////////////////////////////////////////////////////
// every ///////////////////////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

function every(array, test) {
  // Your code here.
  for(let i = 0; i < array.length; i++){
  	if(!test(array[i])){
      return false;
  	}
  }
  return true;
}
function everySome(array, test) {
  // Your code here.
	return !array.some((element) => !test(element));
}

// /////////////////////////////////////////////////////////////////////////////
// dominantDirection ///////////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

function dominantDirection(string) {
  //create a variable ltr and initia as empty array
  let ltr = [];
  //create a variable rtl and initia as empty array
  let rtl = [];

  //iterate through input string using for loop
  for(let i = 0; i < string.length; i++){
    //create a variable called script and assign it the result of invoking characterScript on the current charaxters char code
    let script = characterScript(string.charCodeAt(i)); //let script = {...}

    //determine if script is not equal to null
    if(script !== null){
      if(script.direction === 'ltr'){
        ltr.push(script);
      } else {
        rtl.push(script);
      }
    }
  }
  if(ltr.length > rtl.length){
    return 'ltr';
  } else{return 'rtl';}
}

// /////////////////////////////////////////////////////////////////////////////
//  //////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

if ((typeof process !== 'undefined') &&
  (typeof process.versions.node !== 'undefined')) {
  module.exports = {
    flatten,
    loop,
    every,
    dominantDirection,
  };
};
